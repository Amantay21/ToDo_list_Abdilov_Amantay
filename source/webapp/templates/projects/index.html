{% extends 'base.html' %}

{% block menu %}{% if request.user.is_authenticated %}<a class="nav-link" aria-current="page"
                   href="{% url 'webapp:projects_create' %}">Добавить проект</a>{% endif %}{% endblock %}

{% block content %}
    <h1>Projects</h1>
    {{ request.user }}
    <br>
    {{ request.user.is_authenticated }}
     <div>
        {% include 'partial/simple_search.html' %}
    </div>

    {% if is_paginated %}
    	{% include 'partial/pagination.html' %}
    {% endif %}

    <div class="tasks d-flex justify-content-start row g-4">
    {% for project in projects %}
        <div class="col-sm-12 col-md-6 col-lg-3 d-flex flex-row mb-3">
        <div class="card my-3 " style="width: 18rem;">
            <div class="card-body ">
                <h5 class="card-title">{{ project.title }}</h5>
                <h6 class="card-subtitle mb-2 text-body-secondary">{{ project.description }}</h6>
                <h6 class="card-subtitle mb-2 text-body-secondary">{{ project.start_date }}</h6>

                <p><a href="{% url 'webapp:projects_detail_view' pk=project.pk %}" class="card-link">Подробнее...</a></p>
                {% if request.user.is_authenticated %}<p>
                    <a href="{% url 'webapp:projects_update' pk=project.pk %}" class="card-link">Редактировать</a></p>
                <p><a href="{% url 'webapp:projects_delete' pk=project.pk %}" class="card-link" >Delete</a></p>
                {% endif %}
            </div>
        </div>
        </div>
   

    {% empty %}
    <p>Проекты не найдены</p>
    {% endfor %}
    </div>
    {% if is_paginated %}
    	{% include 'partial/pagination.html' %}
    {% endif %}
{% endblock %}
